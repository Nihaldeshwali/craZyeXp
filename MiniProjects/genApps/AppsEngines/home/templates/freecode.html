<html>
<head> 
<title> YY  Online Code Editor - Compile ,run ,share on-line.. </title>
    <!-- Meta -->
    <meta charset="UTF-8">
    <meta name="description" content="On-line Code Collaboration editor and compiler with chat">
    <meta name="keywords" content="Online Coding, Code Collaboration, Online Compiler,Compiler, real time Collaboration, Online Interview, Online Hieing, Online C Programming, Online Code Chatting, Code player">
    <meta name="author" content="Dipankar Dutta, Pranav, Apurba Mandal, Bikash Sah">
    <!-- End of Meta -->

  <!-- My Own Style Steet  -->
  <link rel="stylesheet" type="text/css" href="/media/css/reset.css"> 
  <link rel="stylesheet" type="text/css" href="/media/css/utils.css"> 
  <link rel="stylesheet" type="text/css" href="/media/css/font-awesome.min.css"> 
  <link rel="stylesheet" type="text/css" href="/media/css/animate.min.css"> 
  
  <!-- Firepad -->
  <link rel="stylesheet" href="https://cdn.firebase.com/libs/firepad/1.1.0/firepad.css" />
  
  <!-- Fonts -->
  <link href='https://fonts.googleapis.com/css?family=Ubuntu' rel='stylesheet' type='text/css'>
 
    <!-- Custom Css Starts -->
    <style>    
        /* ----  Common CSS ----- */
        .box { border: 1px solid #ccc; box-shadow: 1px 3px 7px 0 #ddd;}
        .overlapTrnasition { display: block !important;  opacity: 0;  position: absolute; transition: opacity 0.7s ease-in-out 0s; z-index: 1;}
        .overlapTrnasition.active {z-index: 2; opacity: 1; }
        div{ box-sizing: border-box;}
        .fw{height:100%;width:100%;}
        .abs{position:absolute;} .rel{position:relative}
        *::-moz-placeholder {  color: #aaa }
        ::-webkit-input-placeholder { color: #aaa}
        :-moz-placeholder {  color: #aaa}
        ::-moz-placeholder {  color: #aaa}
        :-ms-input-placeholder { color: #aaa}
        select::-ms-expand { display: none;}
        .middle_and_center { position: absolute; text-align: center; top: calc(40% - 20px);width: 100%;}
        
        /* ------ Layout CSS ----- */
        .container{width: 100%;height: 100%;}
        .stars i{margin: 3px; color:green;}
        
        /* --- Define input field format --*/
        .btn_1, input,select { border: 1px solid #555;margin: 0;padding: 5px 10px;width: 100%;text-align: left;line-height: 26px;font-size: 20px;color: #555;font-family: monospace;background: transparent;-webkit-appearance: none;    -moz-appearance: none;}    
        .btn_1 {border: 1px solid red;text-align: center; cursor: pointer;}
        .btn_1.inv, input.inv,select.inv{color: white; border-color: white;}
        
        .dynamic_tab span{    border-right: 1px solid #ccc; padding: 4px 20px; margin: -2px;cursor: pointer;}
        .dynamic_tab span:hover{border-bottom: 3px solid #D8ECD8;} .dynamic_tab span.active{border-bottom: 4px solid green;}  
        .tab_body > div { width: 100%!; height: 100%;display:none;}
        .tab_body > div.active {display:block;}
        #tab_body2 > div.active { overflow-y: scroll;}
        #tab_body1 .editor { width:100%;height:100%;}
        
        
        /* --- RIGHt Pane ( Editorial cass) ---- */
        .editorial{ color: #555;font-size: 25px; font-family: 'Ubuntu', sans-serif; width:100%;height:100%;}
        .editorial .box{ border: 1px solid #ccc; box-shadow: 1px 3px 7px 0 #ddd; text-align: center;}
        .editorial .box p { margin-bottom: 10px;}
         #dynamic_tab2 span{  border-right: 0 none;    font-size: 23px;    padding: 4px 10px;}
        .run {  background: #30A00B;border-bottom: 1px solid #ccc;border: 1px solid #ccc; border-radius: 50%;padding: 9px 9px;position: absolute;right: 668px;top: 2px;z-index: 10;}
        .round_img{ border-radius: 50%; box-shadow: 0 0 10px #888;  height: 40px; width: 40px;margin: 10px 5px;} 
        .round_icon{     border-radius: 50%;    box-shadow: 0 0 10px #888;    font-size: 15px;    margin: 10px 5px;    padding: 13px;}
        
        /* --- CHAT framework CSS ---- */
        .chat_head{ color: #222; font-size: 16px; line-height: 1.5; padding-top: 5%;text-align:center;}
        .chat_head input{  border-bottom: 1px solid #999; font-size: 18px;    padding-top: 20px;  width: 200px;}
        
        .chat_body .row{width: 100%; border-top: 1px solid white; border-bottom: 1px solid white; margin-bottom: 3px; padding: 5px 0px; position: relative; min-height: 85px;background: white; }
        .chat_body .left {float: left; width: 65px;}
        .chat_body .left img{border-radius: 50%; height: 55px; width: 55px;}
        .chat_body .right{width: calc(100% - 80px); float: right; text-align: left; font-size: 12px;}
        .chat_body .right .name{font-weight: bold; letter-spacing: 1.5px;}
        .chat_body .right .msg{text-align: left;}
        .chat_body .right .time{position: absolute; right: 10px; top: 4px;} 
        .chat_body .row.active {background: lightyellow ; border-bottom: 1px solid yellow; border-top: 1px solid yellow;transition: background border 1.5s linear;}        
        .setting_popup_bar {   background: white none repeat scroll 0 0;  font-size: 17px;    position: absolute; right: 14px; text-align: left; top: 38px; z-index: 5;}
    
    /*Code player */
    .codeplayer {position: absolute;width: 100%; background-color: gray; padding: 10px 0; bottom: 0px; z-index: 10; left: 0;    opacity: 0.9;}
    .codeplayer i{padding: 5px 10px;}
    .codeplayer .buttons{}
    .seekbar {    width: 100%; height: 2px;position: absolute;
    top: 0;}
    .ball{left: 74%;position: absolute;padding: 7px;top: -7px;background-color: red;border: 1px solid red;border-radius: 50%;box-shadow: 0px -2px 16px 0px white;}
    .color_range{border-top: 1px solid red;    box-shadow: 0px -2px 2px 0px red;}    
    /*.playstate >span,.recordstate >span {display:none;}
    .playstate > span.active,.recordstate > span.active {display:inline-block;} */
    .powered-by-firepad{display:none !important;}
    
    
    /* pop up*/
    .popup{ position: fixed; height: auto;width: 580px;  background-color: white;top: 30%; padding: 25px;    line-height: 1.5; left: calc(50% - 270px);   margin: 0 auto;  text-align: left;  font-family: Ubuntu;   font-size: 17px;    }
    .popup.active{z-index:21}
    .popup input,.popup select,.popup textarea{  border: 1px solid black;height: 40px;padding: 0 11px;width: 100%;font-family: Ubuntu;   font-size: 17px;}
    .popup p{ margin-bottom: 15px;}
    
    .btn_round { border-radius: 50%; margin: 5px; border: 1px solid #ccc; padding: 10px 12px;}
    
    /* profile pic */
    #profile_pic {height: 41px; width: 41px; float: left; border-radius: 50%; box-shadow: 0px 1px 8px 0px green;}
    
    /* Problem and test case:*/
    .problem{ font-size: 13px;line-height: 1.5;text-align: left;padding: 5px 15px;}
    .problem .id , .problem .name {display:none}
    .problem .desc {padding: 20px 0; line-height: 29px; color: #000; font-size: 15px; text-align: justify;}
    .problem .tc{border: 1px dashed #ccc; padding: 5px; margin-bottom: 11px;line-height:2}
    .problem .status{float:right}
    .problem .tc.success{border: 1px dashed green;} 
    .problem .tc.error{border: 1px dashed red;}
    .problem .tc.process{border: 1px dashed blue;}
    .problem .tc.unknown{border: 1px dashed pink;}
    .status >i.fa-check {color:green}
    .status >i.fa-close {color:red}
    .all_tc{font-family: monospace; color: #222;}
    
    /* --- Responsive --- */
    /* Landscape phones and down */
    @media (max-width: 480px) { 
        .right{display:none;}
        .left{width:calc( 100% - 0px);}
    }

    /* Landscape phone to portrait tablet */
    @media (min-width: 481px) and (max-width: 767px) {
        .left{width:calc( 100% - 250px);}
        .right{width:250px;}       
    }
    /* Portrait tablet to landscape and desktop */
    @media (min-width: 768px) and (max-width: 1200px) {
        .right{width:30%}
        .left{width:70%;}
    }
    /* Large desktop */
    @media (min-width: 1200px) and (max-width: 1600px) {
      .right{width:35%}
      .left{width:65%;}
    } 
    /* Big desktop  Default */
    @media (min-width: 1600px) {
        .right{width:580px;}
        .left{width:calc( 100% - 580px);}
    }
    i:hover {color: yellow;font-weight: bolder;}
    </style> 
    
    <!-- Custom Css Ends -->
</head>

<body >

    <!-- Extension -->
    <div class="autohideMsgPopUp alert"> <ul> </ul> </div>
    <div class="top-progress-bar"></div>
    <div id="overlay" > </div> <!-- Overlay for popup-->
    <div class="confirmation"> </div>  
    <div class="run" onclick="runProg1()"><i class="fa fa-play" style="color:white;"></i></div>
    
    <!-- page Loder -->
    <div class="uil-ring-css" style="-webkit-transform:scale(0.6)"><div></div></div>
    <div class="load_overlay"></div>
    

    <!-- Please add all poup after this line -->
    <div id="setting_popup" class="popup box" style="display:none">
            <p><select id="theme" name="theme" placeholder ="select theme" onchange="gEditors.setEditorTheme (selected_tab,$(this).val());" >
                            <option  selected="selected" value="">Select theme</option>            
                            <option value="twilight">twilight</option>
                            <option value="eclipse">Eclipse</option>
                            <option value="github">GitHub</option>
                            <option value="textmate">TextMate</option>
            </select> </p>
            
            <p><select id="language" name="theme" onchange="gEditors.setEditorWithTemplate(selected_tab,$('#language').val())" >
                            <option  selected="selected" value="">Select language</option>     
                            <option value="c">C</option>            
                            <option value="cpp">C++</option>
                            <option value="py">Python</option>
                            <option value="java">JAVA</option>
                            <option value="js">JavaScript</option>
            </select></p>
    </div>
    
    <div id="invitation_popup" class="popup box" style="display:none">
            <p> Good to see that you liked our product! </p>
            <p> Please enter the mail id of your friend in below box:</p>
            <p> <input id="invitation_emails" placeholder="Write yours friends name separated by comma."> </input></p>
            <p> <div class="btn_1" onclick="send_invitation();">Send Invitation!</div></p>
    </div>
    
    <div id="report_a_bug_popup" class="popup box" style="display:none">
            <p> We always like to hear your experience with our product! </p>
            <p> <select id="bug_type" name="type">
                            <option  selected="selected" value="">Select a component</option>     
                            <option value="bug">Report a bug </option>            
                            <option value="feature">Feature Request</option>
                            <option value="improvement">Need an improvement</option>
                            <option value="java">smiley</option>
                            <option value="js">General feedback</option>
            </select></p>
            <p> <textarea id="bug_msg" style="height:100px;" placeholder="Write something about your experience"> </textarea></p>
            <p> <div class="btn_1" id="bug_btn" onclick="send_a_bug();">submit</div></p> 
    </div>
    <!-- end Popups -->

<!-- Page Layout Starts here -->
<div class="container" id="container">
  <div class="body" style="height: calc(100%);width:100%">
    <!-- Start of left pane -->
    <div class="left rel" style="float:left;height: 100%;">
        <div id = "dynamic_tab1" class="dynamic_tab"  style="border-bottom: 1px solid rgb(204, 204, 204); box-shadow: 1px 3px 7px 0px rgb(221, 221, 221); padding-top: 15px; height: 40px;">
            <span class="tb" data-target="notepad" style="float: right; border-left: 1px solid rgb(204, 204, 204); border-right: 0px none;" data-target="notepad">Notes</span>
            <span class="tb active" data-target="main_1">Tab 1</span>
            <span class="btn" onclick="addNewTab()" style="border:0;"><i class="fa fa-plus"></i></span>
        </div>
        <div id ="tab_body1" class="tab_body rel" style="width: 100%;height: calc(100% - 40px);">
        <div class="active main_1" > <div id="main_1" class="editor"></div> </div>
            <div class="notepad"><textarea style="width: 100%; height: 99%; border: 1px dashed rgb(170, 170, 170);"></textarea></div> 
        </div>
        <!-- Code player starts -->
        <div class="codeplayer animated flipOutX"> 
                <div class="seekbar">
                <div class="full_length"  style="width: 100%;"><div class="color_range" style="width: 0%;"></div><a class="ball" onclick=""style="left: 0%;"></a></div>
                </div>
                <div class="buttons">
                    <span style="float:left">
                        <span class="playstate">
                            <span class="active" onclick="gCodePlayer.start_playing();"> <i class="fa fa-play"></i> </span>
                            <span id="pause-button" onclick="gCodePlayer.pause_playing();" ><i class="fa fa-pause"></i></span>
                            <span id="replay-button" onclick="gCodePlayer.reply_playing();"><i class="fa fa-rotate-right"></i></span>
                        </span>
                        <span class="recordstate">
                            <span class="active sr_btn" onclick="gCodePlayer.start_recording();$(self).addClassToSibling('active','.er_btn')"><i class="fa fa-video-camera"></i></span>
                            <span class="er_btn "onclick="gCodePlayer.stop_recording();$(self).addClassToSibling('active','.sr_btn');"><i style="color:red" class="fa fa-video-camera"></i></span>
                        </span>
                        <span class="play-time"><span class="play-time">0:07</span><span class="video-length">/ 0:10</span></span>
                    </span>
                    
                    <span style="float:right"><span onclick="gCodePlayer.setSpeed(5);" ><i>5x</i></span><span onclick="gCodePlayer.setSpeed(2);" ><i>2x</i></span><span onclick="gCodePlayer.setSpeed(1);" ><i>1x</i></span></span>
                </div>
        </div>
        <!-- Code player ends -->
        <div class="setting" onclick ="gCommonUx.showComponent('setting_popup')" style="position: absolute;top: 60px;    color: #ccc; z-index:2;   right: 25px;    font-size: 23px;"><i class="fa fa-gear" ></i></div>
        <div class="input_btn" onclick ="$(this).switchClass('bounceIn','bounceOut','.input_box')" style="position: absolute;top: 90px;z-index:2;    color: #ccc;    right: 25px; font-size: 20px;"><i class="fa fa-pencil" ></i></div>
        <div class="input_box animated" style="width: 100%; position: absolute; height: 200px; bottom: 0px;background: rgba(0 , 0 , 0, 0.8); z-index: 10;"><textarea id="input" style="width: 100%;height: 100%; background: transparent;color: white;
        padding: 12px 18px;font-size: 17px;" placeholder="Write your STD_INPUT here"></textarea></div>
    </div><!-- End of left -->
    <!-- Start of riight -->
    <div class="right" style="float:right;height: 100%;position: relative;">
        <div class="box overlapTrnasition" id= "output_panel" style="width: 99%; height: 99%; padding: 20px 5px 5px; font-family: consolas; "> 
            <div id= "output" style="height:calc(100%); padding-top:30px; width:100%; overflow: auto;font-size: 13px; line-height: 1.5;"> </div>
            <span id="process-icon" class="middle_and_center" style="display:none;"><i class="fa fa-refresh fa-spin fa-5x fa-fw margin-bottom"> </i><br><p id="run_state" style="font-size:19px;padding-top:15px;">Compiling...</p></span>
        <span id="no_network" class="middle_and_center"><i class="fa fa-bell-slash fa-5x fa-fw margin-bottom"><p style="font-size:19px;padding-top:15px;">No Internet</p> </i> <br></span>
            <span style="font-family: ubuntu; position: absolute; top: 10px; font-size: 23px; left: 36px;" id="close" onclick='$("#editorial").addClass("active");$("#output_panel").removeClass("active");'><i class="fa fa-close"></i></span>
        </div>
        <div class="editorial active overlapTrnasition" style="width:100%;height:100%;" id="editorial">
           <div class="box"  style="padding:10px; margin-bottom: 7px; height: 208px;">
             <p style=" margin-bottom: 20px; height: 26px;">
                <img id="profile_pic" src = "" style="display:none"> </img>
                <span style="float:right;padding-right: 10px;" onclick="$(this).switchClass('bounceIn','bounceOut','.setting_popup_bar');"><i style="padding-left: 26px; font-size: 17px;"  class="fa fa-ellipsis-v"></i></span>
                <div class="setting_popup_bar animated">
                <!--<p><i class="fa fa-floppy-o"></i></p> -->
                    <p onclick = "gCommonUx.showComponent('report_a_bug_popup')"><i class="fa fa-bug"></i></p>
                    <p onclick = "gCommonUx.showComponent('invitation_popup')"><i class="fa  fa-envelope"></i></p> 
                    <p onclick = "gPopOver.show('github_pull')"><i class="fa  fa-download"></i></p>
                    <p onclick = "gPopOver.show('github_push')"><i class="fa  fa-upload"></i></p>
                    <p onclick= "$(this).switchClass('flipInX','flipOutX','.codeplayer')"><i class="fa fa-film"></i><p>
                </div>
             </p>
             <p><span>#</span><span id="id">26972</span></p>
             <p> <input type="text" id="name" placeholder ="Write a Hello World Program"/></p>
             <p style="font-size: 14px;"> <span>Language: <select id="language1" name="language" onchange="onChangeLangWithoutTemplate()" style="width:32px" > 
                    <option  selected="selected" value="c">C</option>            
                    <option value="cpp">C++</option>
                    <option value="py">Python</option>
                    <option value="java">JAVA</option>
                    <option value="js">JavaScript</option>
                </select> <span> | <span>  Level:  <select id="level" name="language" onchange="onChangeLang()" style="width:32px" > 
                    <option  selected="selected" value="easy">Easy</option>            
                    <option value="Midium">Midi</option>
                    <option value="hard">Hard</option>
                    <option value="advance">Advn</option>
                </select> <span> | <span> Categories : Basic <span>  </p>
             <p>
                <div id="star_1">
                </div>
            


            </p>
           </div>
           <div class="box" style="height: calc(100% - 220px);">
                <div id="dynamic_tab2" class="dynamic_tab"  style="border-bottom: 1px solid rgb(204, 204, 204); height: 39px;padding-top: 7px;">
                    <span class="active" data-target="desc">Description</span>
                    <span class="" data-target="review">Reviews</span>
                    <span class="" data-target="Comments">Team</span>
                    <span class="" data-target="save">Save</span>
                </div>
                <div id ="tab_body2" class="tab_body" style="width: 100%; height: calc(100% - 33px);">
                    <!-- Desc -->
                    <div class="active" id="desc" style="">
                        <div class="fw desc_intro" style="padding: 10px;line-height: 1.6;font-size: 17px; display:none">
                            <p>Problem description is noting but a more elaboration of a problem. It is a explantion of the problem with some test cases</p>
                            <div class="btn_1"> Write a description</div> 
                            <p> This feature is not yet supported and we are working on this. We will notify you once it is available to you </p>
                        </div>
                        <div class="fw desc_details" style="">
                        </div>
                    </div>
                    <!-- Sedc End -->
                    <div class="" id="review">
                      <div class="fw" style="padding: 10px;line-height: 1.6;font-size: 17px;">
                            <p>Not able to join your online review process ? Introducing "Offline Review". Using this feature now you can review and give the comment offline to particular code segment in the code.</p>
                            <div class="btn_1"> Start writing a review</div> 
                            <p> This feature is not yet supported and we are working on this. We will notify you once it is available to you </p>
                        </div>    
                    </div>
                    <!-- Comment Starts -->
                    <div id="Comments" class="rel"> 
                        <div class="chat_head fw rel">
                            <div style="" >
                                <p> Work as a team! With this feature you can share your code to your team for review and edit! You can also chat with him easily! </p>
                                <div id="social_auth"></div>
                                <p> <input type="text" readonly id="user_name" placeholder ="YourName"/></p>
                                <p> <input type="text" id="share_id"  placeholder ="Enter share ID"/></p>
                                  <p><i class="round_icon fa fa-user-plus" onclick="start_colaboration(this);"></i></p>
                            </div>
                        </div>
                        <div class="fw chat_main rel" style="display:none">
                            <div id ="chat_body" class="chat_body" style="width: 100%; height: calc(100% - 32px); overflow: auto;">
                            </div>
                            <div class="chat_input" style="width: 100%; height: 30px;">
                                <textarea id="chat_input" style="width: 100%; height: 100%; border:0; border:1px solid #aaa;padding:4px;color: #555; font-family: 'Ubuntu',sans-serif; font-size: 15px;" placeholder="Tell something to the team!" > </textarea>
                            </div>
                            <a class="btn_round" style="position: absolute;bottom: 35px;right: 19px;padding: 6px 8px;font-size: 15px;"><i class="fa fa-share" onclick="alert('Please share this id to your friend:'+gChatEngine.getID());"></i></a>
                        </div>
                        
                    </div>
                    <!-- Comment ends -->
                    <!-- save start -->
                    <div class="" id="save">
                        <div class="fw" style="padding: 10px;line-height: 1.6;font-size: 17px;">
                            <p> Well! You want to save your data! We have multiple option to persist your file. Click as per your choice!</p>
                            <p>
                               <div class="btn_1" style="cursor: pointer;" onclick="download()"> Download</div> 
                               <div class="btn_1"> Save in PeerView</div>
                               <div class="btn_1"> Save on Cloud ( GitHub ) </div>
                               <div class="btn_1"> Share as Link</div>
                               <div class="btn_1"> Email me</div>
                            </p>
                            <p> This feature is not yet supported and we are working on this. We will notify you once it is available. </p>
                        </div>
                        
                    </div>
                </div>
           </div>
        </div>
    </div>
    <!-- End of right -->
    

    
    </div> <!--end of body class-->
</div><!-- end of container class-->

<!--- We have all FIXED popup here -->
<div id="github_pull" style="padding:5px;">
    <div style="text-align: center;">
        <input  class="inv" style="width:500px" name="url" placeholder="Enter github code url" ></input>
        <span class="btn_1 inv" style="width:100px" onclick="gGitHubProxy.get(getNamedObjs('#github_pull'));">Pull Code</span>
    </div>
</div>
<div id="github_push" style="padding:5px;">
    <div style="float: left;">
        <input  class="inv" style="width:200px" name="uname" placeholder="UserName" ></input> 
        <input  class="inv" style="width:200px; border-right:1px solid white" type="password" name="upass" placeholder="Password" ></input>
        <input  class="inv" style="width:400px;" name="cmsg" placeholder="Commit Message" ></input>
    </div>
    <div style="float:right">
        <span class="btn_1 inv" onclick="showDiff()">Diff</span>
        <span class="btn_1 inv " onclick="d=getNamedObjs('#github_push');d.data = gEditors.getEditorData(selected_tab);gGitHubProxy.save(d);">Push</span>
    </div>
</div>
<div id="search_lib" style="padding:5px;">
    <div style="text-align: center;">
        <input  class="inv" style="width:500px" name="url" placeholder="Search our code library" ></input>
        <span class="btn_1 inv" style="width:100px" onclick="">Search</span>
    </div>
</div>
<!-- End of all popup -->





    <!-- My Own Utls -->
    <script src="/media/js/jquery.min.js"></script>
    <script src="/media/js/utils.js"></script>
    <script src="/media/js/cleancode_data.js"></script>
    <script src="/media/js/cleancode.js"></script>

    
  <!-- Firebase -->
  <script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>

  <!-- ACE and its JavaScript mode and theme files -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/theme-textmate.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
  <!-- Firepad -->
  <script src="https://cdn.firebase.com/libs/firepad/1.1.0/firepad.min.js"></script>
  
 <!-- WE JUST FIX LOCAL DEPNEDENCY PATH
  <script src="/media/js/firebase.js"></script>
  <script src="/media/js/ace.js"></script>
  <script src="/media/js/mode-javascript.js"></script>
  <script src="/media/js/theme-textmate.js"></script>
  <script src="/media/js/mode-javascript.js"></script>
  <script src="/media/js/firepad.min.js"></script>
 -->
  


    <script>
    gPageLoadIndicator = new PageLoadIndicator();
    gPageLoadIndicator.registerLoadPage();
  // Minimal Custom Script 
  /*******************  TAB OPERATION ******************************************/
  var selected_tab='main_1'
  var MAX_TAB_ALLOWED = 6;
  function addNewTab(){
    gTelmetry.log('add_new_tab_clicked')
    //alert('Adding new tab not yet supported in V0.0');
   // return false;
    idx  = ($("#dynamic_tab1").children().length-1)
    if(idx == MAX_TAB_ALLOWED){
        gTelmetry.log('try_to_add_more_than_max_tag')
        alert('No more tab can be added');
        return;
    }
    id  = 'main_'+ idx;
    $('<span class="tb" data-target="'+id+'">Tab '+idx+'</span>').insertBefore('#dynamic_tab1 span:last-child');
    $(' <div class="active '+id+'" ><div class="editor" id="'+id+'"></div></div>').insertBefore('#tab_body1 > div:last-child');    
    gEditors.addEditor(id);
    
    $('#dynamic_tab1 > span.active').removeClass('active')
    $("#dynamic_tab1 span:nth-last-child(2)").addClass('active')
    $('#tab_body1 > div.active').removeClass('active')
    $('#tab_body1 > div:nth-last-child(2)').addClass('active');
    selected_tab = id;
    
  }   
  $("#container").on("click", "#dynamic_tab1 > span.tb", function(){
        if( $(this).hasClass('active')) return;
        var id = $(this).attr('data-target');
        $('#dynamic_tab1 > span.active').removeClass('active')
        $(this).addClass('active');
        $('#tab_body1 > div.active').removeClass('active')
        $('#tab_body1 > div.'+id).addClass('active');
        selected_tab = id;
  });
  
  // right tab
  $("#container").on("click", "#dynamic_tab2 > span", function(){
        if( $(this).hasClass('active')) return;
        var id = $(this).attr('data-target');
        $('#dynamic_tab2 > span.active').removeClass('active')
        $(this).addClass('active');
        $('#tab_body2 > div.active').removeClass('active')
        $('#tab_body2 > div#'+id).addClass('active');
  });
  
  /*******************  Helper Function******************************************/
    function getRunData(){
        input = gData.getData();
        input['main'] = gEditors.getEditorData(selected_tab)
        input.language = gEditors.get(selected_tab).lang
        if (input.language == 'java') {
                input.name = 'Solution'
        } else {
                input.name = genRandomString(3,'ABCCDEF') + input.id;
        }
        return input
    }
    function runProg1(){
        $("#editorial").removeClass('active');$("#output_panel").addClass('active');$("#no_network").hide();
        input = getRunData()
        if(input.language == 'js'){
           gMyJSExecution.setAndRun(input.main);
        }
        else{            
            gCompilationEnv.runIfCompileSucceed(input);
        }
        gTelmetry.log('run_btn_pressed');
    } 

  
  var gChatEngine = undefined
  var gFireBaseUrl= 'https://cleancode.firebaseio.com/'
  function start_colaboration(x){
    share_id = $('#share_id').val()
    uname = $('#user_name').val();
    if(uname == ''){
        openAutoHideMsgPopUp('<b>Please login by socail ID to join a team.</b>')
        return;
    }
    if(share_id == ''){
        openAutoHideMsgPopUp('<b>You are joined to default Team</b>')
        share_id = "Team99";        
    }
    gChatEngine = new ChatEngine(gFireBaseUrl,share_id);
    uid = gUserProfiles.getData().id;
    uname = gUserProfiles.getData().name;
    upic =  gUserProfiles.getData().pic_url;
    gChatEngine.joinChatRoom(uid,uname,upic)
    
    gChatEngine.registerRecvMsgHandalar(function (a){
        if( uid == a.uid){
            $('.chat_body').append('<div class="row"><div class="left" ><img src="'+a.pic+'"></div><div class="right"> <p class="name"> '+a.name+'</p><p class="time">'+a.time+'</p><p class="msg"> '+a.msg+'</p></div></div>')
        } else {
            $('.chat_body').append('<div class="row s"><div class="left" ><img src="'+a.pic+'"></div><div class="right"> <p class="name"> '+a.name+'</p><p class="time">'+a.time+'</p><p class="msg"> '+a.msg+'</p></div></div>')
        }
ScrollButtom('chat_body');
        $($('.row').last()).addClassVolatile('active');
    });    
    gChatEngine.registerRecvNotificationHandalar(function (a,b){ 
        if(b.pic == undefined){
        console.log(b)
            return;
        }
        if(a == 'user_added'){
            $('.chat_body').append('<div class="row" style=" position: relative;text-align: center;border-bottom: 0;"><img title="'+b.name+' joined the team!" src="'+b.pic+'" class="round_pic" style="border-radius: 50%;top: 8px;z-index: 1;position: absolute;height:40px;width:40px;"><p style="border-top: 1px solid #eee;top: 34px;width: 100%;position: absolute;"></p></div>')
        }
    }) 
    //gChatEngine.sendMessage('Hello team! I am '+uname+'. I just join in team coding!')
    
    gEditors.setColaboration('main_1',share_id);
    
    $(".chat_head ").hide();$(".chat_main").show(); 
  }
  function end_chat(){ gChatEngine.leaveChatRoom(); }
  function send_msg(msg){ gChatEngine.sendMessage(msg,upic); $(".chat_body").animate({ scrollTop: $('.chat_body').height() }, "slow");}
  function start_typing(){ gChatEngine.sendNotification('typing'); }

 RegisterDataBindingOnEvent('keyup',"#chat_input",function(e){
        e = e || event;
        if (e.keyCode === 13 && !e.ctrlKey && $("#chat_input").val() != '') {
            gChatEngine.sendMessage($("#chat_input").val(),upic);
            $("#chat_input").val('')
        }
        return true;
 });
  /*********************************************************************************/
  /****************************** MAIN FUNTIONS ****************/
    var gEditors= undefined
    var gData = undefined
    var gCodePlayer = undefined
    var gMyJSExecution = undefined
    var gCommonUx = undefined
    var gTelmetry = undefined
    var gCompilationEnv = undefined
    var gUserProfiles = new UserProfiles();
    var gProblemUnitTest =  new ProblemUnitTest()
    var gFTXManager = new FTXManager()
    var gGitHubProxy = new GitHubProxy()
    var gPopOver = new PopOver()
    $( document ).ready(function() { 
        gEditors = new MyEditor('main_1');  
        //gEditors.setEditorTheme("main_1","twilight");
        //gEditors.setEditorMode("main_1","javascript");       
        gData =  new  MyDataBind(['id','name','input', 'language','level','categories']);       
        gCodePlayer = new CodePlayer(gEditors.getEditor('main_1'));
        gCodePlayer.attachProgressCallBack(function(x){$('.color_range').css('width',x+'%');$('.ball').css('left',x+'%');})
        gMyJSExecution = new MyJSExecution()
        gMyJSExecution.addLogAction(function(a){alert(a)})
        
        gCommonUx = new CommonUx();
        gCommonUx.addComponenet('popup','setting_popup');  
        gCommonUx.addComponenet('popup','invitation_popup');
        gCommonUx.addComponenet('popup','report_a_bug_popup');
        
        gCommonUx.addComponenet('social_auth','social_auth')
        gCommonUx.registerCompleteHandaler('social_auth',function(a){
            $("#user_name").val(a.name);
            $("#social_auth").hide()
            $('#profile_pic').attr('src',a.pic_url).show()
            gUserProfiles.setData(a);
        }); 
         
         
         gCommonUx.addComponenet('star_btn','star_1');
        
    gTelmetry = new Telmetry();
    
    gCompilationEnv = new CompilationEnv();
    gCompilationEnv.attachCompileBeforeHandaler(function(){
        $('#output').html('>>> Conpilation Started ... '); 
        $("#run_state").html('Compiling...');
        $(".top-progress-bar").addClass("progress");
        $("#process-icon").show();$("#no_network").hide();
        gEditors.clearInlineCompilationMsg(selected_tab);
    })
    gCompilationEnv.attachCompileSuccessHandaler(function(data){
        $('#output').append('<pre style="padding-left: 35px;">'+escape_html_tags(data['output'])+'</pre>');
        if (data.can_run == "no"){
            $("#process-icon").hide();
        }
        for (i=0;i<data.formated_error.length;i++){
                w = data.formated_error[i]
                gEditors.addInlineCompilationMsg(selected_tab,w[3],w[1],w[4]) 
        }
    })
    gCompilationEnv.attachCompileErrorHandaler(function(){
        console.log('We have a network issue while compilation'); 
        $("#process-icon").hide()
        $("#no_network").show();  
    })    
    gCompilationEnv.attachRunBeforeHandaler(function(){
        $('#output').append('>>> Executing ...'); 
        $("#run_state").html('Running...');
    })
    gCompilationEnv.attachRunSuccessHandaler(function(data){
        $('#output').append('<pre style="padding-left: 35px;">'+escape_html_tags(data['output'])+'</pre>');$("#process-icon").hide()
        $(".top-progress-bar").addClass("complete");
        $("#process-icon").hide()
        setTimeout(function(){$(".top-progress-bar").removeClass("progress complete done");   },1000);

            
    })
    gCompilationEnv.attachRunErrorHandaler()
        console.log('We have a network issue while compilation'); 
        $("#no_network").show();  
        $("#process-icon").hide();
    });
    
    gProblemUnitTest.addProblem({id:0, name:'bit puzzle',desc:'Yup! I found by grandfathers old 48 bit machine! But I have a game which can runs in 64 bit machine. I am interested to see if that game can be run in my old machine or not!<br><i> A 64 bit instraction is saild to be valid if and only if the 47-63 bit is either all set or all reset.</i><br> You are given a 64 bit integer, can you find if that number is valid for my old computer ?'})
    gProblemUnitTest.getProblem(0)
    gProblemUnitTest.addTestCase(0,{input:'0x0000000000000000',output:'True',explanation:'some exp'})
    gProblemUnitTest.addTestCase(0,{input:'0xffffffffffffffff',output:'True',explanation:'some exp'})
    gProblemUnitTest.addTestCase(0,{input:'0xffff1fffffffffff',output:'False',explanation:'some exp'})
    gProblemUnitTest.addTestCase(0,{input:'0xffff000000000000',output:'False',explanation:'some exp'})
    gProblemUnitTest.addTestCase(0,{input:'0xffff800000000000',output:'True',explanation:'some exp'})
    gProblemUnitTest.addTestCase(0,{input:'0x7fff800000000000',output:'False',explanation:'some exp'})
    gProblemUnitTest.getTestCase(0)
    gProblemUnitTest.buildUX(0,'.desc_details') 

    
    
    gFTXManager.add('welcome',function(){ alert('Welcome to peer review!');})
    gFTXManager.execute()
    
    gGitHubProxy.registerGetFileSuccess(function(data){gEditors.setEditorData(selected_tab,data['res']);})    
    gGitHubProxy.registerSaveFileSuccess(function(data){alert(data.msg)})  
    gGitHubProxy.registerGetFileError(function(data){alert(data.msg)})  
    gGitHubProxy.registerSaveFileSuccess(function(data){alert(data.msg)})
    
    gPopOver.add('github_pull',{'location':'top'})
    gPopOver.add('github_push',{'location':'top'}) 
    gPopOver.add('search_lib',{'location':'top'}) 
    
    // Helper
    function send_a_bug(){
        call_backend_api('post','/api/ks/bugs/',{bug_type:$('#bug_type').val(),bug_msg:$('#bug_msg').val()},'before_cb','success_cb','error_cb',function(){$('#report_a_bug_popup').html('<p>Thanks for your feedback!. We will revert back you shortly.<p>')},{contentType:'json'});
    }
    function send_invitation(){
        call_backend_api('post','/api/ks/invitation/',{emails:$('#invitation_emails').val()},'before_cb','success_cb','error_cb',function(){$('#invitation_popup').html('<p>Thanks for your support! Your friend will receive an email from us shortly..<p>')},{contentType:'json'});
    }
 </script>
<div class="dipankar">
    <input name="dm::uname"></input>
    <input name="dm::passwd"></input>
    <select name="dm::gender"> <option value="volvo">Volvo</option><option value="saab">Saab</option></select>
    <input type="checkbox" name="dm::vehicle" value="Bike">bike<br><input type="dm::checkbox" name="vehicle" value="Car" checked> car<br>
    <input type="radio" name="dm::sex" value="male" checked> Male <br><input type="radio" name="dm::sex" value="female"> Female<br>
    <p name="dm::html">1</p>
    <div class="list">
        <div class="list1" name="dmg::list"><input name="dm::sname"></input> <input name="dm::spass"></input></div>
        <div class="list1" name="dmg::list"><input name="dm::sname"></input> <input name="dm::spass"></input></div>
    </div>
    <p name="dmh::list">
        We will populate here,,
    </p>
    
</div>


</body>
</html>
